<html>
<head>
    <title>Admin Console Loading...</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="./index.css">
    <link rel="stylesheet" type="text/css" href="./config.css">
    <script type="text/javascript" src="./admin.js"></script>
    <script type="text/javascript" src="./config.js"></script>
    <script type="text/javascript" src="./index.js"></script>
</head>
<body onload="javascript:doAuth();">
    <span style="font-family: 'Arial'; margin-bottom: 0px;">
        <span style="font-size: 28;">
            <b><span id="servername"></span></b> Config
        </span>
        <img class="profilepic" id="profilepic" src="" />
        <br>
        <span id="botsince"></span>
        <span class="removetool" id="botleave" onclick="javascript:leaveServer();"><i>(leave)</i></span>
        &nbsp;
        <br><br>
        
        <span style="font-size: 20;">
            <u>Bot Admins</u>
            <br>
        </span>
        <div class="container" id="admins">
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="adminstable">
                    <thead>
                        <tr>
                            <th>Avatar</th>
                            <th>Name</th>
                            <th>ID</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="adminstablebody"></tbody>
                </table>
            </div>
            <span id="adminsadd">
                Add: 
                <select id="adminsselector" onChange="javascript:config('admins', this.value, function() {switchAdmins();switchBlocked();});">
                </select>
            </span>
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>Blocked Members</u>
            <br>
        </span>
        <div class="container" id="blocked">
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="blockedtable">
                    <thead>
                        <tr>
                            <th>Avatar</th>
                            <th>Name</th>
                            <th>ID</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="blockedtablebody"></tbody>
                </table>
            </div>
            <span id="blockedadd">
                Block: 
                <select id="blockedselector" onChange="javascript:config('blocked', this.value, function() {switchAdmins();switchBlocked();});"></select>
            </span>
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>Strikes for Users</u>
            <br>
        </span>
        <div class="container" id="strikes">
            <i>Strikes are a way of marking when a user has violated the rules of the server. This gives admins a way to know who needs to be warned/kicked/banned. Strikes are automatically added for spamming or fetching NSFW content (if enabled).</i><br>
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="strikestable">
                    <thead>
                        <tr>
                            <th>Avatar</th>
                            <th>Name</th>
                            <th>Strikes</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="strikestablebody"></tbody>
                </table>
            </div>
            <span id="strikesadd">
                Add Strike: 
                <select id="strikesselector"></select>
                <input id="rssnewurl" type="text" style="width: 250;" placeholder="Reason for strike" onkeydown="if(event.keyCode==13){newStrike(document.getElementById('strikesselector').value, this.value);}"></input>
            </span>
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>RSS Feeds</u>
            <br>
        </span>
        <div class="container" id="rss">
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="rsstable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>URL</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="rsstablebody"></tbody>
                </table>
            </div>
            New:
            <input id="rssnewname" type="text" style="width: 100;" placeholder="Feed Name"></input>
            <input id="rssnewurl" type="text" style="width: 250;" placeholder="RSS URL" onkeydown="if(event.keyCode==13){newRss()}"></input>
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>Command Settings</u>
        </span>
        <div class="container" id="commands"></div>
        <span id="commands-space" style="font-size: 6;"><br><br></span>
        Apply Preset: 
        <button id="presetentry-full" onclick="javascript:config('preset', 'full', switchCommands);">Full</button>&nbsp;
        <button id="presetentry-lite" onclick="javascript:config('preset', 'lite', switchCommands);">Lite</button>&nbsp;
        <button id="presetentry-sense" onclick="javascript:config('preset', 'sense', switchCommands);">Sense</button>&nbsp;
        <button id="presetentry-sense" onclick="javascript:resetConfigs();">Default</button>
        <span id="commands-space" style="font-size: 6;"><br><br></span>
        Command Modifier: <select id="commandtag-selector" onchange="javascript:config('cmdtag', this.value, switchCommands);">
            <option id="commandtag-tag" value="tag"></option>
            <option id="commandtag-plus" value="+">+</option>
            <option id="commandtag-amp" value="&">&</option>
            <option id="commandtag-bang" value="!">!</option>
            <option id="commandtag-min" value="-">-</option>
            <option id="commandtag-dub" value="--">--</option>
            <option id="commandtag-slash" value="/">/</option>
            <option id="commandtag-dollar" value="$">$</option>
        </select><br>
        <br>
        
        <span style="font-size: 20;">
            <u>Management</u>
        </span>
        <div class="container" id="management">
            <label><input style="height: auto;" id="manageentry-servermod" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Act as a server moderator</label>
            <br><span id="manageentry-space" style="font-size: 6;"><br><br></span>
            <span id="manageentry-servermod-block">
                <label><input style="height: auto;" id="manageentry-newmembermsg" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Member joined messages</label>
                <span id="manageentry-newmembermsg-block"></span>
                <br>
                <label><input style="height: auto;" id="manageentry-rmmembermsg" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Member removed messages</label>
                <span id="manageentry-rmmembermsg-block"></span>
                <br>
                <label><input style="height: auto;" id="manageentry-banmembermsg" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Member banned messages</label>
                <span id="manageentry-banmembermsg-block"></span>
                <br>
                <label><input style="height: auto;" id="manageentry-unbanmembermsg" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Member unbanned messages</label>
                <span id="manageentry-unbanmembermsg-block"></span>
                <br><span id="manageentry-space" style="font-size: 6;"><br><br></span>
                <label><input style="height: auto;" id="manageentry-spamfilter" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Spam filter</label>
                <span id="manageentry-spamfilter-block"></span>
                <br id="manageentry-spamfilter-selector-break">&nbsp;&nbsp;&nbsp;<select id="manageentry-spamfilter-selector" onChange="javascript:config('spamfilter', this.value, function() {});">
                    <option id="spamfilter-high" value="high">High</option>
                    <option id="spamfilter-medium" value="medium">Medium</option>
                    <option id="spamfilter-low" value="low">Low</option>
                </select>
                <br>
                <label><input style="height: auto;" id="manageentry-nsfwfilter" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">NSFW filter (blocks NSFW fetching through bot)</label>
                <span id="manageentry-nsfwfilter-block"></span>
                <br>
            </span><span id="manageentry-space" style="font-size: 6;"><br><br></span>
            <span id="manageentry-newgreeting">
                <textarea id="newgreetinginput" style="float: left; height: 40; width: 400;" placeholder="Message shown to new members, in markdown"></textarea>
                &nbsp;
                <span class="removetool" id="newgreetingsubmit" onclick="javascript:newNewgreeting();"><i>(submit)</i></span>
                <br>&nbsp;
                <span class="removetool" id="newgreetingremove" onclick="javascript:configNewgreeting();"><i>(remove)</i></span>
                <br>
            </span>
            <br><br>
            
            <span id="manageentry-polls">
                Ongoing polls:
                <ul id="manageentry-polls-block"></ul>
            </span>
            <span id="manageentry-trivia">
                Ongoing trivia games:
                <ul id="manageentry-trivia-block"></ul>
            </span>
            
            Clean: 
            <select id="cleanselector"></select>
            <input id="cleaninput" type="number" style="width: 50;" placeholder="#" onkeydown="if(event.keyCode==13){configCA('clean')}"></input>
            <span style="font-size: 6;"><br><br></span>
            Archive: 
            <select id="archiveselector"></select>
            <input id="archiveinput" type="number" style="width: 50;" placeholder="#" onkeydown="if(event.keyCode==13){configCA('archive')}"></input>
            <br><span style="font-size: 6;"><br><br></span>
            <label><input style="height: auto;" id="manageentry-showpub" type="checkbox" onclick="javascript:config(this.id.substring(12), this.checked, function() {});">Show logs and data for this server on public status page</label>
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>Trivia Sets</u>
            <br>
        </span>
        <div id="triviasets">
            <i>Custom trivia sets will be available to all users on this server. Provide a JSON file with a "name" and "stream", the latter being an array of objects, each with a "category", "question", and "answer".</i><br>
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="triviasetstable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Length</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="triviasetstablebody"></tbody>
                </table>
            </div>
            Upload: 
            <input id="triviasetsupload" type="file" style="width: 300;" accept="application/json" onchange="javascript:newTriviaSet(this.files)" />
        </div>
        <br>
        
        <span style="font-size: 20;">
            <u>Extensions</u>
            <br>
        </span>
        <div id="extensions">
            <i>Extensions allow you to add server-specific functionality to the bot. Learn more <a href="https://git.io/vVHfT">here</a>.</i><br>
            <div style="max-height: 50%;overflow: scroll;overflow-x: hidden;">
                <table class="tablelist contrastable" id="extensionstable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Channel(s)</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="extensionstablebody"></tbody>
                </table>
            </div>
            Upload: 
            <input id="extensionsupload" type="file" style="width: 300;" accept="application/json" onchange="javascript:newExtension(this.files)" />
        </div>
        <br>
        
        <button id="refresher" onclick="javascript:document.body.style.opacity = 0;setTimeout(function() {location.reload();}, 250);">Refresh</button>
        
        <select id="themeswitcher" onChange="javascript:switchColors(this.value);">
            <option id="theme-white" value="white">White</option>
            <option id="theme-contrast" value="contrast">Contrast</option>
            <option id="theme-black" value="black">Black</option>
            <option id="theme-dark" value="dark">Dark</option>
            <option id="theme-blue" value="blue">Blue</option>
            <option id="theme-red" value="red">Red</option>
            <option id="theme-deep" value="deep">Deep</option>
        </select>
        
        <button id="help" onclick="javascript:getHelp();">Help</button>
        
        <button id="logout" onclick="javascript:doLogout();">Logout</button>
        <br><br>
        
        <span id="credit">
            <i>Created by @BitQuote, <a href="https://git.io/vaa2F">https://git.io/vaa2F</a></i>
        </span>
    </span>
    <div id="darkener" style="display:none"></div>
</body>
</html>